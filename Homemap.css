.home-wrap { position: relative; height: 100vh; background: #071426; }
.mapbox { position: absolute; inset: 56px 0 0 0; }

/* top bar */
.topbar {
  position: absolute; left: 0; right: 0; top: 0; height: 56px;
  display: flex; align-items: center; gap: 10px;
  padding: 0 20px;
  background: linear-gradient(180deg,#0a1d36,rgba(10,29,54,0.4));
  color: #e6efff; font-weight: 600; letter-spacing: .2px;
  z-index: 3;
}
.title-dot { width: 8px; height: 8px; border-radius: 50%; background: #2BC4FF; box-shadow: 0 0 12px #2BC4FF; }

/* filter card */
.filters {
  position: absolute; z-index: 4; top: 72px; left: 20px; width: 360px;
  padding: 14px 16px; border-radius: 14px;
  background: rgba(11, 16, 34, .72);
  border: 1px solid rgba(255,255,255,.08);
  box-shadow: 0 12px 30px rgba(0,0,0,.35), inset 0 1px 0 rgba(255,255,255,.05);
  color: #dfe9ff;
}
.filters label { display:block; font-size:.82rem; opacity:.8; margin:6px 0 8px; }
.filters select {
  width:100%; background:#0f1b34; color:#e9f2ff; border:1px solid rgba(255,255,255,.08);
  padding:8px 10px; border-radius:10px; outline:none;
}
.checkbox { display:flex; align-items:center; gap:8px; margin-top:8px; opacity:.9; }

.chips { display:flex; gap:8px; margin-bottom:8px; flex-wrap:wrap; }
.chip {
  padding:6px 10px; font-size:.82rem; border-radius:18px; color:#cbe4ff;
  background:#0f1b34; border:1px solid rgba(255,255,255,.08);
}
.chip--active {
  color:#0b1228; background:#2BC4FF; border-color:#2BC4FF;
  box-shadow: 0 0 0 2px rgba(43,196,255,.2), 0 0 18px rgba(43,196,255,.45);
}

/* legend */
.legend {
  position: absolute; bottom: 16px; left: 16px; display:flex; gap:16px; align-items:center;
  color:#dfe9ff; font-size:.82rem; z-index: 3; background: rgba(11,16,34,.55);
  padding:8px 12px; border-radius:12px; border:1px solid rgba(255,255,255,.08);
  backdrop-filter: blur(4px);
}
.legend .dot { width:10px; height:10px; border-radius:50%; display:inline-block; margin-right:6px; box-shadow:0 0 10px currentColor; }
.legend .green { color:#2DFFAA; background:#2DFFAA; }
.legend .amber { color:#FFD24A; background:#FFD24A; }
.legend .red { color:#FF5A5C; background:#FF5A5C; }

/* dark tooltip */
.mapboxgl-popup.tt .mapboxgl-popup-content {
  background: rgba(13,22,44,.96);
  color:#e9f2ff; border-radius:12px; padding:10px 12px;
  border:1px solid rgba(255,255,255,.08);
  box-shadow: 0 12px 30px rgba(0,0,0,.35);
}
.tt-wrap { min-width: 220px; }
.tt-title { font-weight:700; margin-bottom:6px; opacity:.95; }
.tt-line { display:flex; justify-content:space-between; gap:12px; margin:2px 0; }
.tt-line .green{color:#2DFFAA} .tt-line .amber{color:#FFD24A} .tt-line .red{color:#FF5A5C}
.mapboxgl-popup-anchor-bottom .mapboxgl-popup-tip { border-top-color: rgba(13,22,44,.96); }
