/* Backdrop under expanded card */
.pc-backdrop {
  position: fixed;
  inset: 0;
  background: #000;
  z-index: 98;
}

/* 3D wrapper */
.pc-wrapper {
  position: relative;
  width: 420px;
  height: 520px;
  perspective: 1600px;
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 99;
}

.pc-wrapper.expanded {
  position: fixed;
  right: 2vw;
  top: 12vh;
  width: 75vw;
  height: 75vh;
}

/* OUTER: Framer layout ONLY (no rotate here) */
.pc-outer {
  position: relative;
  width: 100%;
  height: 100%;
}

/* ROTATOR: owns the flip (no layout) */
.pc-rotator {
  position: absolute;
  inset: 0;
  transform-style: preserve-3d;
  transform: rotateY(0deg);
  transition: transform 0.65s cubic-bezier(.2,.8,.2,1);
}

.pc-rotator.flipped {
  transform: rotateY(180deg);
}

/* Card faces (front & back) */
.pc-face {
  position: absolute;
  inset: 0;
  border-radius: 22px;
  backface-visibility: hidden;
  -webkit-backface-visibility: hidden;

  background:
    radial-gradient(1200px 600px at -10% -20%, rgba(130,170,255,0.12), transparent 50%),
    linear-gradient(180deg, #0B1426 0%, #0C1B31 30%, #0A1224 100%);
  box-shadow:
    0 30px 80px rgba(0,0,0,0.45),
    inset 0 1px 0 rgba(255,255,255,0.06);
  color: #fff;
  padding: 22px 24px;
  display: flex;
  flex-direction: column;
  justify-content: space-between;
}

/* Back face is rotated so it appears after flip */
.pc-back {
  transform: rotateY(180deg);
  display: grid;
  grid-template-columns: 1fr 1.2fr;
  gap: 22px;
  padding: 26px;
}

/* Header */
.pc-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
}
.pc-badge { height: 34px; filter: drop-shadow(0 2px 3px rgba(0,0,0,0.4)); }
.pc-title { font-size: 28px; font-weight: 700; letter-spacing: .3px; }

/* Hero line: chip – tire – chip */
.pc-hero {
  display: grid;
  grid-template-columns: 1.2fr .9fr 1.2fr;
  gap: 18px;
  align-items: center;
  margin-top: 12px;
}
.pc-hero-tire {
  width: 100%;
  max-width: 120px;
  justify-self: center;
  filter: drop-shadow(0 12px 18px rgba(0,0,0,.5));
}

/* Chips */
.pc-chip {
  border-radius: 14px;
  padding: 14px 16px;
  backdrop-filter: blur(4px);
  box-shadow:
    inset 0 1px 0 rgba(255,255,255,0.08),
    0 8px 18px rgba(0,0,0,0.25);
}
.pc-chip--blue {
  background: linear-gradient(135deg, #0A3A7E 0%, #0E4C9E 100%);
}
.pc-chip--emerald {
  background: linear-gradient(135deg, #0A5A46 0%, #0F7E66 100%);
}
.pc-chip__label { opacity: .8; font-size: 12px; }
.pc-chip__value { display: block; margin-top: 4px; font-size: 20px; font-weight: 700; }

/* Row of two tiles */
.pc-row { display: grid; grid-template-columns: 1fr 1fr; gap: 18px; }

.pc-tile {
  border-radius: 16px;
  padding: 16px 18px;
  background: linear-gradient(145deg, rgba(255,255,255,0.05), rgba(255,255,255,0.02));
  box-shadow: inset 0 1px 0 rgba(255,255,255,0.05), 0 12px 28px rgba(0,0,0,0.3);
  position: relative;
  overflow: hidden;
}

.pc-tile--copper {
  background: linear-gradient(135deg, #6B2B00 0%, #B35605 55%, #E07A18 100%);
}
.pc-tile--indigo {
  background: linear-gradient(135deg, #172B5A 0%, #112449 100%);
}

.pc-tile__label { font-size: 13px; opacity: .9; }
.pc-tile__hint { font-size: 12px; color: #FFD44D; margin-left: 10px; opacity: .9; }
.pc-tile__label-wrap { display: flex; align-items: baseline; gap: 8px; }
.pc-tile__value { display: block; margin-top: 6px; font-size: 22px; font-weight: 800; letter-spacing: .2px; }

/* Mini warning pill on weak tile */
.pc-warning {
  position: absolute; right: 14px; bottom: 12px;
  width: 38px; height: 38px; border-radius: 10px;
  background: linear-gradient(145deg, #3A3A3A, #1E1E1E);
  display: grid; place-items: center;
  box-shadow: inset 0 1px 0 rgba(255,255,255,0.06), 0 6px 16px rgba(0,0,0,0.35);
}
.pc-warning img { width: 22px; height: 22px; }

/* Foot hint */
.pc-foot-hint { text-align: center; opacity: .7; font-size: 13px; margin-top: 6px; }

/* Back face left side */
.pc-section-title { font-size: 24px; margin-bottom: 10px; }
.pc-detail-list { list-style: none; padding: 0; margin: 10px 0 0; }
.pc-detail-list li {
  margin: 12px 0;
  font-size: 16px;
  display: flex; align-items: center; gap: 8px;
}
.pc-dot { width: 9px; height: 9px; border-radius: 50%; display: inline-block; }
.pc-dot--warn  { background: #FFB74D; }
.pc-dot--error { background: #FF5A5A; }
.pc-dot--ok    { background: #4DD0E1; }

.pc-back-right { display: flex; flex-direction: column; justify-content: space-between; min-height: 280px; }
.pc-health { display: flex; gap: 12px; align-items: center; margin-top: 12px; }
.pc-health__label { opacity: .8; }
.pc-health__badge {
  padding: 6px 10px; border-radius: 10px; font-weight: 700;
  background: linear-gradient(135deg, #213B86, #2F5CD5);
  box-shadow: inset 0 1px 0 rgba(255,255,255,0.08);
}
/* Smooth centering when flipped */
.pc-wrapper { transition: transform .35s ease, left .35s ease, top .35s ease; }

.pc-wrapper.expanded {
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%) scale(1.14); /* enlarge without changing aspect */
  z-index: 9;
  pointer-events: auto;
}

/* make sure the card isn't stretched by any parent flex */
.pc-wrapper { flex: 0 0 auto; }

/* preserve 3D + tidy front/back while flipped (unchanged) */
.pc-rotor, .pc-face { transform-style: preserve-3d; }
.pc-face { backface-visibility: hidden; }
.pc-rotor.flipped .pc-back { transform: rotateY(180deg) scale(1.02); }
.pc-rotor.flipped .pc-front { opacity: .06; filter: blur(.2px); pointer-events: none; }
